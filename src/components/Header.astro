---
import Navigation from './Navigation.astro';

interface Props {
  title?: string;
}

const { title } = Astro.props;
---

<header id="site-header" class="site-header">
  <div class="header-light-background"></div>
  <div class="header-content">
    <Navigation />
  </div>
</header>

<script>
  // Scroll effect for header background
  document.addEventListener('DOMContentLoaded', () => {
    const headerBackground = document.querySelector('.header-light-background');
    const header = document.getElementById('site-header');
    
    window.addEventListener('scroll', () => {
      const scrollY = window.scrollY;
      
      // Fade out the light background as user scrolls
      if (headerBackground) {
        // Start fading out at 100px scroll, completely gone by 300px
        const opacity = Math.max(1 - (scrollY - 100) / 200, 0);
        headerBackground.style.opacity = opacity.toString();
      }
      
      // Add shadow to header after scrolling a bit
      if (scrollY > 50) {
        header?.classList.add('scrolled');
      } else {
        header?.classList.remove('scrolled');
      }
    });
  });
</script>

<style>
  .site-header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1000;
    transition: box-shadow 0.3s ease;
  }
  
  .header-light-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    z-index: -1;
    transition: opacity 0.3s ease;
  }
  
  .header-content {
    position: relative;
    z-index: 1;
  }
  
  /* Subtle shadow when scrolled */
  .site-header.scrolled {
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  }
</style>

